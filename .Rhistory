sidebarLayout(
sidebarPanel(
h3("Slider changes number of points"),
sliderInput(inputId = "myslider", "Number of points:",
min = 5, max = 20, value = 10, step = 1),
plotOutput("plot", height = 250,
brush = brushOpts(id = "plot_brush", resetOnNew = TRUE,
fill = "red", stroke = "#036", opacity = 0.3)),
h4("Brushed points appear here"),
tableOutput("table_brushedpoints")
), #endsidebarpanel
mainPanel(
tabsetPanel(
tabPanel("Map", leafletOutput("mymap"))
)
)#end mainpanel
)# end sidebarlayout
)
shinyApp(ui = ui, server = server)
library(shinydashboard)
ui <- dashboardPage(
dashboardHeader(title = "Basic dashboard"),
dashboardSidebar(
sidebarMenu(
menuItem("Dashboard", tabName = "dashboard", icon = icon("dashboard")),
menuItem("Widgets", tabName = "widgets", icon = icon("th"))
)
),
dashboardBody(
tabItems(
# First tab content
tabItem(tabName = "dashboard",
fluidRow(
box(plotOutput("plot1", height = 250)),
box(plotOutput("plot2", height = 250)),
box(
title = "Controls",
sliderInput("myslider", "Number of observations:", 1, 50, 15)
)
)
),
# Second tab content
tabItem(tabName = "widgets",
h2("Widgets tab content")
)
)
)
)
server <- function(input, output) {
histdata <- rnorm(500)
output$plot1 <- renderPlot({
dat <- mtcars[1:input$myslider,]
ggplot(dat, aes(mpg)) + geom_histogram(fill="cadetblue")
})
output$plot2 <- renderPlot({
dat <- mtcars[1:input$myslider,]
ggplot(dat, aes(mpg, wt)) + geom_point() + stat_smooth()
})
}
shinyApp(ui, server)
library(shinydashboard)
library(shinydashboard)
install.packages(shinydashboard)
install.packages("shinydashboard")
library(shinydashboard)
ui <- dashboardPage(
dashboardHeader(title = "Basic dashboard"),
dashboardSidebar(
sidebarMenu(
menuItem("Dashboard", tabName = "dashboard", icon = icon("dashboard")),
menuItem("Widgets", tabName = "widgets", icon = icon("th"))
)
),
dashboardBody(
tabItems(
# First tab content
tabItem(tabName = "dashboard",
fluidRow(
box(plotOutput("plot1", height = 250)),
box(plotOutput("plot2", height = 250)),
box(
title = "Controls",
sliderInput("myslider", "Number of observations:", 1, 50, 15)
)
)
),
# Second tab content
tabItem(tabName = "widgets",
h2("Widgets tab content")
)
)
)
)
server <- function(input, output) {
histdata <- rnorm(500)
output$plot1 <- renderPlot({
dat <- mtcars[1:input$myslider,]
ggplot(dat, aes(mpg)) + geom_histogram(fill="cadetblue")
})
output$plot2 <- renderPlot({
dat <- mtcars[1:input$myslider,]
ggplot(dat, aes(mpg, wt)) + geom_point() + stat_smooth()
})
}
shinyApp(ui, server)
load("/home/lincoln/Downloads/sweeney.rda")
load("/home/lincoln/Downloads/sweeney.rda")
laptop
load("/home/lincoln/Dropbox/nupis/dados/sweeney.rda")
load("/home/lincoln/Dropbox/nupis/dados/alex/imrs.rda")
names(x01)
x01
head(x01, 2)
dim(x01, 2)
dim(x01)
dim(x00)
ano <- rep(2014, 146)
ano
x00$ano <- ano
names(x00)
ano <- rep(2000, 146)
x00$ano <- ano
names(x00)
head(x00, 2)
ano <- rep(2001, 146)
x01$ano <- ano
library(tidyr)
?melt
?gather
names(x00)
x <- gather(x00, iqge:poptotal)
x <- gather(x00, variável, valor)
x <- gather(x00, variável, valor, iqge:poptotal)
head(x)
xx <- gather(x01, variável, valor, iqge:poptotal)
head(xx)
final <- inner_join(x, xx)
final <- inner_join(x, xx, by = "codmun7")
dim(final)
head(final, 2)
dim(x)
dim(xx)
final <- biind_rows(x, xx, by = "codmun7")
final <- bind_rows(x, xx, by = "codmun7")
final <- bind_rows(x, xx)
head(final, 2)
tail(final, 2)
dim(final)
?spread
final <- spread(x, variavel, valor)
final <- spread(x, variável, valor)
head(final, 2)
tail(final, 2)
final <- spread(uniao, variável, valor)
uniao <- bind_rows(x, xx)
final <- spread(uniao, variável, valor)
head(final, 2)
tail(final, 2)
f <- separate(final, ano, c("2000", "2001"))
f <- separate(final, ano, c(2000, 2001))
?separate
ano <- rep("x2000", 146)
x00$ano <- ano
ano <- rep("x2001", 146)
x01$ano <- ano
x <- gather(x00, variável, valor, iqge:poptotal)
xx <- gather(x01, variável, valor, iqge:poptotal)
uniao <- bind_rows(x, xx)
final <- spread(uniao, variável, valor)
f <- separate(final, ano, c("x2000", "x2001"))
head(f, 2)
ano <- rep(2000, 146)
x00$ano <- ano
ano <- rep(2001, 146)
x01$ano <- ano
names(x00)
library(tidyr)
x <- gather(x00, variável, valor, iqge:poptotal)
head(x)
dim(x)
xx <- gather(x01, variável, valor, iqge:poptotal)
head(xx)
dim(xx)
uniao <- bind_rows(x, xx)
head(uniao, 2)
tail(uniao, 2)
dim(uniao)
final <- spread(uniao, variável, valor)
head(final, 2)
tail(final, 2)
dim(final)
?spread
f <- spread(final, codmun7, ano)
head(f, 2)
f <- spread(final, nome.mun, ano)
head(f, 2)
f <- spread(final, ano, codmun7)
head(f, 2)
ano <- rep(2002, 146)
x02$ano <- ano
ano <- rep(2003, 146)
x03$ano <- ano
ano <- rep(2004, 146)
x04$ano <- ano
ano <- rep(2005, 146)
x05$ano <- ano
ano <- rep(2006, 146)
x06$ano <- ano
ano <- rep(2007, 146)
x07$ano <- ano
ano <- rep(2008, 146)
x08$ano <- ano
ano <- rep(2009, 146)
x09$ano <- ano
ano <- rep(2010, 146)
x10$ano <- ano
ano <- rep(2011, 146)
x11$ano <- ano
ano <- rep(2012, 146)
x12$ano <- ano
ano <- rep(2013, 146)
x13$ano <- ano
names(x13)
x02 <- gather(x02, variável, valor, iqge:poptotal)
x03 <- gather(x03, variável, valor, iqge:poptotal)
x04 <- gather(x04, variável, valor, iqge:poptotal)
x05 <- gather(x05, variável, valor, iqge:poptotal)
x06 <- gather(x06, variável, valor, iqge:poptotal)
x07 <- gather(x07, variável, valor, iqge:poptotal)
x08 <- gather(x08, variável, valor, iqge:poptotal)
x09 <- gather(x09, variável, valor, iqge:poptotal)
x10 <- gather(x10, variável, valor, iqge:poptotal)
x11 <- gather(x11, variável, valor, iqge:poptotal)
x12 <- gather(x12, variável, valor, iqge:poptotal)
x13 <- gather(x13, variável, valor, iqge:poptotal)
uniao <- bind_rows(x00, x01, x03, x04, x05, x06, x07, x08, x09, x10, x11, x12, x13)
head(uniao, 2)
x00 <- gather(x00, variável, valor, iqge:poptotal)
x00
uniao <- bind_rows(x00, x01, x03, x04, x05, x06, x07, x08, x09, x10, x11, x12, x13)
head(uniao, 2)
uniao <- bind_rows(x00, x01, x03, x04)
head(uniao, 2)
uniao <- bind_rows(x00, x01)
head(uniao, 2)
x00 <- gather(x00, variável, valor, iqge:poptotal)
load("/home/lincoln/Dropbox/nupis/dados/alex/imrs.rda")
ano <- rep(2000, 146)
x00$ano <- ano
ano <- rep(2001, 146)
x01$ano <- ano
ano <- rep(2002, 146)
x02$ano <- ano
ano <- rep(2003, 146)
x03$ano <- ano
ano <- rep(2004, 146)
x04$ano <- ano
ano <- rep(2005, 146)
x05$ano <- ano
ano <- rep(2006, 146)
x06$ano <- ano
ano <- rep(2007, 146)
x07$ano <- ano
ano <- rep(2008, 146)
x08$ano <- ano
ano <- rep(2009, 146)
x09$ano <- ano
ano <- rep(2010, 146)
x10$ano <- ano
ano <- rep(2011, 146)
x11$ano <- ano
ano <- rep(2012, 146)
x12$ano <- ano
ano <- rep(2013, 146)
x13$ano <- ano
names(x13)
x00 <- gather(x00, variável, valor, iqge:poptotal)
x00
x01 <- gather(x01, variável, valor, iqge:poptotal)
x02 <- gather(x02, variável, valor, iqge:poptotal)
x03 <- gather(x03, variável, valor, iqge:poptotal)
x04 <- gather(x04, variável, valor, iqge:poptotal)
x05 <- gather(x05, variável, valor, iqge:poptotal)
x06 <- gather(x06, variável, valor, iqge:poptotal)
x07 <- gather(x07, variável, valor, iqge:poptotal)
x08 <- gather(x08, variável, valor, iqge:poptotal)
x09 <- gather(x09, variável, valor, iqge:poptotal)
x10 <- gather(x10, variável, valor, iqge:poptotal)
x11 <- gather(x11, variável, valor, iqge:poptotal)
x12 <- gather(x12, variável, valor, iqge:poptotal)
x13 <- gather(x13, variável, valor, iqge:poptotal)
x13
uniao <- bind_rows(x00, x01, x03, x04, x05, x06, x07, x08, x09, x10, x11, x12, x13)
head(uniao, 2)
tail(uniao, 2)
final <- spread(uniao, variável, valor)
head(final, 2)
tail(final, 2)
dim(final)
imrs <- spread(uniao, variável, valor)
head(imrs, 2)
tail(imrs, 2)
dim(imrs)
imrs %>% group_by(codmun7)
imrs %>% group_by(ano)
imrs %>% group_by(codmun7) %>% summarise(media = mean(gpassist, na.rm=T))
saveRDS(imrs, file = "imrs.rds")
setwd("~/Dropbox/nupis/dados/alex")
saveRDS(imrs, file = "imrs.rds")
saveRDS(imrs, file = "imrs.RDS")
?saveRDS
saveRDS(imrs, file = "imrs.rds")
dim(imrs)
dim(imrs)
load("~/Dropbox/nupis/dados/imrs.dta")
dim(x00)
head(x00, 2)
# criar a variável ano em todos os dataframes
ano <- rep(2000, 146)
x00$ano <- ano
ano <- rep(2001, 146)
x01$ano <- ano
ano <- rep(2002, 146)
x02$ano <- ano
ano <- rep(2003, 146)
x03$ano <- ano
ano <- rep(2004, 146)
x04$ano <- ano
ano <- rep(2005, 146)
x05$ano <- ano
ano <- rep(2006, 146)
x06$ano <- ano
ano <- rep(2007, 146)
x07$ano <- ano
ano <- rep(2008, 146)
x08$ano <- ano
ano <- rep(2009, 146)
x09$ano <- ano
ano <- rep(2010, 146)
x10$ano <- ano
ano <- rep(2011, 146)
x11$ano <- ano
ano <- rep(2012, 146)
x12$ano <- ano
ano <- rep(2013, 146)
x13$ano <- ano
names(x13) # conferindo o resultado
# transforma os dataframes do formato largo para o formato longo
library(tidyr)
x00 <- gather(x00, variável, valor, iqge:poptotal)
x01 <- gather(x01, variável, valor, iqge:poptotal)
x02 <- gather(x02, variável, valor, iqge:poptotal)
x03 <- gather(x03, variável, valor, iqge:poptotal)
x04 <- gather(x04, variável, valor, iqge:poptotal)
x05 <- gather(x05, variável, valor, iqge:poptotal)
x06 <- gather(x06, variável, valor, iqge:poptotal)
x07 <- gather(x07, variável, valor, iqge:poptotal)
x08 <- gather(x08, variável, valor, iqge:poptotal)
x09 <- gather(x09, variável, valor, iqge:poptotal)
x10 <- gather(x10, variável, valor, iqge:poptotal)
x11 <- gather(x11, variável, valor, iqge:poptotal)
x12 <- gather(x12, variável, valor, iqge:poptotal)
x13 <- gather(x13, variável, valor, iqge:poptotal)
# reúne os dataframes e confere
uniao <- bind_rows(x00, x01, x03, x04, x05, x06, x07, x08, x09, x10, x11, x12, x13)
head(uniao, 2)
tail(uniao, 2)
dim(uniao)
# volta os dataframes para o formato longo, exceto a variável ano
# como resultado há 14 linhas/observações para cada cidade (uma para cada ano)
imrs <- spread(uniao, variável, valor)
head(imrs, 2)
tail(imrs, 2)
dim(imrs)
load("~/Dropbox/nupis/dados/alex/imrs.dta")
load("/home/lincoln/Dropbox/nupis/dados/alex/imrs.rda")
dim(x00)
load("home/lincoln/Dropbox/nupis/dados/alex/imrs.dta")
load("~/Dropbox/nupis/dados/alex/imrs.dta")
load("~/Dropbox/nupis/dados/atlas.dta")
load("home/lincoln/Dropbox/nupis/dados/atlas.dta")
load("~/Dropbox/nupis/dados/alex/imrs.rda")
dim(x00)
head(x00, 2)
ano <- rep(2000, 146)
x00$ano <- ano
ano <- rep(2001, 146)
x01$ano <- ano
ano <- rep(2002, 146)
x02$ano <- ano
ano <- rep(2003, 146)
x03$ano <- ano
ano <- rep(2004, 146)
x04$ano <- ano
ano <- rep(2005, 146)
x05$ano <- ano
ano <- rep(2006, 146)
x06$ano <- ano
ano <- rep(2007, 146)
x07$ano <- ano
ano <- rep(2008, 146)
x08$ano <- ano
ano <- rep(2009, 146)
x09$ano <- ano
ano <- rep(2010, 146)
x10$ano <- ano
ano <- rep(2011, 146)
x11$ano <- ano
ano <- rep(2012, 146)
x12$ano <- ano
ano <- rep(2013, 146)
x13$ano <- ano
names(x13) # conferindo o resultado
# transforma os dataframes do formato largo para o formato longo
library(tidyr)
x00 <- gather(x00, variável, valor, iqge:poptotal)
x01 <- gather(x01, variável, valor, iqge:poptotal)
x02 <- gather(x02, variável, valor, iqge:poptotal)
x03 <- gather(x03, variável, valor, iqge:poptotal)
x04 <- gather(x04, variável, valor, iqge:poptotal)
x05 <- gather(x05, variável, valor, iqge:poptotal)
x06 <- gather(x06, variável, valor, iqge:poptotal)
x07 <- gather(x07, variável, valor, iqge:poptotal)
x08 <- gather(x08, variável, valor, iqge:poptotal)
x09 <- gather(x09, variável, valor, iqge:poptotal)
x10 <- gather(x10, variável, valor, iqge:poptotal)
x11 <- gather(x11, variável, valor, iqge:poptotal)
x12 <- gather(x12, variável, valor, iqge:poptotal)
x13 <- gather(x13, variável, valor, iqge:poptotal)
# reúne os dataframes e confere
uniao <- bind_rows(x00, x01, x03, x04, x05, x06, x07, x08, x09, x10, x11, x12, x13)
head(uniao, 2)
tail(uniao, 2)
dim(uniao)
imrs2 <- spread(uniao, variável, valor)
head(imrs2, 2)
tail(imrs2, 2)
dim(imrs2)
imrs %>% group_by(codmun7) %>% summarise(media = mean(gpassist, na.rm=T))
imrs2 %>% group_by(codmun7) %>% summarise(media = mean(gpassist, na.rm=T))
saveRDS(imrs2, "imrs2.rds")
imrs2
dim(imrs2)
x <- readRDS("imrs.rds")
load("~/Dropbox/nupis/dados/alex/imrs.rda")
dim(x00)
head(x00, 2)
# criar a variável ano em todos os dataframes
ano <- rep(2000, 146)
x00$ano <- ano
ano <- rep(2001, 146)
x01$ano <- ano
ano <- rep(2002, 146)
x02$ano <- ano
ano <- rep(2003, 146)
x03$ano <- ano
ano <- rep(2004, 146)
x04$ano <- ano
ano <- rep(2005, 146)
x05$ano <- ano
ano <- rep(2006, 146)
x06$ano <- ano
ano <- rep(2007, 146)
x07$ano <- ano
ano <- rep(2008, 146)
x08$ano <- ano
ano <- rep(2009, 146)
x09$ano <- ano
ano <- rep(2010, 146)
x10$ano <- ano
ano <- rep(2011, 146)
x11$ano <- ano
ano <- rep(2012, 146)
x12$ano <- ano
ano <- rep(2013, 146)
x13$ano <- ano
names(x13) # conferindo o resultado
# transforma os dataframes do formato largo para o formato longo
library(tidyr)
x00 <- gather(x00, variável, valor, iqge:poptotal)
x01 <- gather(x01, variável, valor, iqge:poptotal)
x02 <- gather(x02, variável, valor, iqge:poptotal)
x03 <- gather(x03, variável, valor, iqge:poptotal)
x04 <- gather(x04, variável, valor, iqge:poptotal)
x05 <- gather(x05, variável, valor, iqge:poptotal)
x06 <- gather(x06, variável, valor, iqge:poptotal)
x07 <- gather(x07, variável, valor, iqge:poptotal)
x08 <- gather(x08, variável, valor, iqge:poptotal)
x09 <- gather(x09, variável, valor, iqge:poptotal)
x10 <- gather(x10, variável, valor, iqge:poptotal)
x11 <- gather(x11, variável, valor, iqge:poptotal)
x12 <- gather(x12, variável, valor, iqge:poptotal)
x13 <- gather(x13, variável, valor, iqge:poptotal)
# reúne os dataframes e confere
uniao <- bind_rows(x00, x01, x03, x04, x05, x06, x07, x08, x09, x10, x11, x12, x13)
head(uniao, 2)
tail(uniao, 2)
dim(uniao)
# volta os dataframes para o formato longo, exceto a variável ano
# como resultado há 14 linhas/observações para cada cidade (uma para cada ano)
imrs2 <- spread(uniao, variável, valor)
head(imrs2, 2)
tail(imrs2, 2)
dim(imrs2)
save(imrs2, file = "imrs2.rda")
load("imrs2.rda")
imrs2
imrs2 %>% group_by(codmun7) %>% summarise(media = mean(gpassist, na.rm=T))
rm(list=ls())
imrs2
load("imrs2.rda")
imrs2
